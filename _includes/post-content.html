<!-- Store the numnber of words minus 250 in "words" -->
<!-- Taken from here: https://sacha.me/articles/jekyll-word-counts/ -->
{% capture words %} 
    {{ page.content | number_of_words | minus: 250 }}
{% endcapture %}

<!-- If we are on the main page, make the title of the shown
     blog post be a link to the real post page  -->
{% if page.layout == 'home' %}
<a href="{{ post.url | relative_url }}">
    <h1 style="margin-bottom: 5px;">{{ post.title }}</h1>
</a>
{% endif %}

<!-- If we are *not* on the main page, don't make the title
     into a link  -->
{% if page.layout != 'home' %}
<h1 style="margin-bottom: 5px;">{{ page.title }}</h1>
{% endif %}

<p style="margin-bottom: 10px;">

    <!-- Add the date of the post to the title -->
    {{ page.date | default: post.date | date: "%B %-d, %Y" }}

    <!-- If there's a date, put a separator between it
         and the reading time indicator -->
    {% if (page and page.date) or (post and post.date) %}
        <span>&nbsp;|&nbsp;</span>
    {% endif %}

    <!-- Add the number of minutes to read to the title -->
    {% unless page.hideTimeToRead %}
        {{ page.content | reading_time_as_i | append: " to read" }}
    {% endunless %}
</p>

<hr /> {{ page.content | default: post.content }}